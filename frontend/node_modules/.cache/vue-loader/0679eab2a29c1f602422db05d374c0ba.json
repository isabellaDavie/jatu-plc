{"remainingRequest":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\src\\components\\forms\\LoginForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\src\\components\\forms\\LoginForm.vue","mtime":1587950008000},{"path":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgQXV0aEFQSSBmcm9tICdAL2FwaS9hdXRoZW50aWNhdGlvbi5hcGkuanMnIAoKICAgIGV4cG9ydCBkZWZhdWx0IHsKCiAgICAgICAgbmFtZTogJ2xvZ2luLWZvcm0nLAoKICAgICAgICBkYXRhKCl7CiAgICAgICAgICAgIHJldHVybnsKICAgICAgICAgICAgICAgIGZvcm06ewogICAgICAgICAgICAgICAgICAgIGVtYWlsOm51bGwsCiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6bnVsbAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGxvYWRpbmc6ZmFsc2UKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIG1ldGhvZHM6ewoKICAgICAgICAgICAgYXN5bmMgc3VibWl0KCl7CiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSAhdGhpcy5sb2FkaW5nCiAgICAgICAgICAgICAgICBjb25zdCB7dXNlciwgdG9rZW4gfSA9IGF3YWl0IEF1dGhBUEkuYXV0aGVudGljYXRlKHRoaXMuZm9ybSkKICAgICAgICAgICAgICAgIGlmKCF1c2VyKSB7CiAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdGYWlsZWQgdG8gbG9naW4uIFBsZWFzZSB0cnkgYWdhaW4uJykKICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gIXRoaXMubG9hZGluZwogICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXNldCgpCiAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhY3RpdmVVc2VyJywgSlNPTi5zdHJpbmdpZnkodXNlcikpCiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCB0b2tlbikKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZToncmVxdWVzdHMnIH0pCiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSAhdGhpcy5sb2FkaW5nCiAgICAgICAgICAgIH0sCgogICAgICAgICAgICByZXNldCgpewogICAgICAgICAgICAgICAgdGhpcy5mb3JtID0ge30KICAgICAgICAgICAgfQoKICAgICAgICB9CgogICAgfQo="},{"version":3,"sources":["LoginForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA","file":"LoginForm.vue","sourceRoot":"src/components/forms","sourcesContent":["<template>\n    <div class=\"login-form-container\">\n        <b-form @submit.prevent=\"submit\" @reset=\"reset\">\n            <b-form-group label='Email'>\n                <b-form-input type=\"email\" placeholder=\"Enter your email\" required v-model='form.email'>\n                </b-form-input>\n            </b-form-group>\n\n            <b-form-group label=\"Password\">\n                <b-form-input type=\"password\" placeholder=\"Enter your password\" required v-model='form.password'>\n                </b-form-input>\n            </b-form-group>\n\n            <b-button block type=\"submit\" variant=\"primary\">\n                <template v-if=\"loading\">\n                    <b-spinner small type=\"grow\"></b-spinner>\n                    Loading...\n                </template>\n                <template v-else>Login</template>\n            </b-button>\n            <b-button block type=\"reset\" variant=\"outline-secondary\">Reset</b-button>\n        </b-form>\n    </div>\n</template>\n\n<script>\n\nimport AuthAPI from '@/api/authentication.api.js' \n\n    export default {\n\n        name: 'login-form',\n\n        data(){\n            return{\n                form:{\n                    email:null,\n                    password:null\n                },\n                loading:false\n            }\n        },\n\n        methods:{\n\n            async submit(){\n                this.loading = !this.loading\n                const {user, token } = await AuthAPI.authenticate(this.form)\n                if(!user) {\n                     alert('Failed to login. Please try again.')\n                     this.loading = !this.loading\n                     return this.reset()\n                     }\n                localStorage.setItem('activeUser', JSON.stringify(user))\n                localStorage.setItem('token', token)\n                this.$router.push({ name:'requests' })\n                this.loading = !this.loading\n            },\n\n            reset(){\n                this.form = {}\n            }\n\n        }\n\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n\n\n</style>"]}]}
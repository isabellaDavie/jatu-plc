{"remainingRequest":"C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Documents\\jatu3\\frontend\\src\\views\\Reports\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Documents\\jatu3\\frontend\\src\\views\\Reports\\index.vue","mtime":1589744646425},{"path":"C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBSZXBvcnRzTGlzdCBmcm9tICdAL2NvbXBvbmVudHMvdGFibGVzL1JlcG9ydHNMaXN0LnZ1ZSc7CmltcG9ydCBSZXBvcnRzQVBJIGZyb20gJ0AvYXBpL3JlcG9ydC5hcGkuanMnCmltcG9ydCBSZXBvcnRGb3JtIGZyb20gJ0AvY29tcG9uZW50cy9mb3Jtcy9SZXBvcnRGb3JtLnZ1ZScKCmV4cG9ydCBkZWZhdWx0IHsKCiAgICBuYW1lOiAncmVwb3J0cycsCgogICAgY29tcG9uZW50czogewogICAgICAgIFJlcG9ydEZvcm0sCiAgICAgICAgUmVwb3J0c0xpc3QsCiAgICB9LAoKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgICAgICAgIHJlcG9ydHM6IG51bGwKICAgICAgICB9CgoKICAgIH0sCgogICAgY29tcHV0ZWQ6IHsKCiAgICAgICAgbGlzdDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICBsZXQgdXNlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FjdGl2ZVVzZXInKSkKICAgICAgICAgICAgaWYgKHVzZXIucG9zaXRpb24gPT0gJ0hPRCcpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlcG9ydHMKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlcG9ydHMpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgbGlzdCA9IHRoaXMucmVwb3J0cy5maWx0ZXIocmVwb3J0cyA9PiByZXBvcnRzLnJlcG9ydGVyLl9pZCA9PSB1c2VyLl9pZCkKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGlzdAogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCgoKICAgIGFzeW5jIGNyZWF0ZWQoKSB7CiAgICAgICAgYXdhaXQgdGhpcy5mZXRjaERhdGEoKQoKICAgIH0sCgogICAgbWV0aG9kczogewoKICAgICAgICBhc3luYyBmZXRjaERhdGEoKSB7CiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9ICF0aGlzLmxvYWRpbmcKICAgICAgICAgICAgbGV0IHJlc3VsdHMgPSBhd2FpdCBSZXBvcnRzQVBJLmdldCgpCiAgICAgICAgY29uc29sZS5sb2coJ3Jlc3VsdHMgOj4+ICcsIHJlc3VsdHMpOwogICAgICAgICAgICB0aGlzLnJlcG9ydHMgPSByZXN1bHRzLnJlcG9ydHMKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gIXRoaXMubG9hZGluZwogICAgICAgICAgICBjb25zb2xlLmxvZygncmVzdWx0cyA6JywgcmVzdWx0cyk7CiAgICAgICAgfQogICAgfQoKfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"index.vue","sourceRoot":"src/views/Reports","sourcesContent":["<template>\n    <div class=\"reports\">\n        <div class=\"d-flex justify-content-between align-content-center\">\n            <h3>Reports</h3>\n            <report-form v-on:success='fetchData'>\n\n                Create Report\n            </report-form>\n        </div>\n        <hr class=\"w-100\">\n        <reports-list :reports='list' v-on:success='fetchData'></reports-list>\n    </div>\n</template>\n\n<script>\n    import ReportsList from '@/components/tables/ReportsList.vue';\n    import ReportsAPI from '@/api/report.api.js'\n    import ReportForm from '@/components/forms/ReportForm.vue'\n\n    export default {\n\n        name: 'reports',\n\n        components: {\n            ReportForm,\n            ReportsList,\n        },\n\n        data() {\n            return {\n                loading: false,\n                reports: null\n            }\n\n\n        },\n\n        computed: {\n\n            list: function () {\n                let user = JSON.parse(localStorage.getItem('activeUser'))\n                if (user.position == 'HOD') {\n                    return this.reports\n                } else {\n                    if (this.reports) {\n                        let list = this.reports.filter(reports => reports.reporter._id == user._id)\n                        return list\n                    }\n\n                }\n            }\n        },\n\n\n        async created() {\n            await this.fetchData()\n\n        },\n\n        methods: {\n\n            async fetchData() {\n                this.loading = !this.loading\n                let results = await ReportsAPI.get()\n            console.log('results :>> ', results);\n                this.reports = results.reports\n                this.loading = !this.loading\n                console.log('results :', results);\n            }\n        }\n\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>"]}]}
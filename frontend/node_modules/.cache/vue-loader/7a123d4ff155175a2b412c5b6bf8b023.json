{"remainingRequest":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\src\\components\\forms\\ReportCommentForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\src\\components\\forms\\ReportCommentForm.vue","mtime":1588131068000},{"path":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBSZXBvcnRzQVBJIGZyb20gJ0AvYXBpL3JlcG9ydC5hcGkuanMnCgpleHBvcnQgZGVmYXVsdCB7CgogICAgbmFtZToncmVwb3J0LWNvbW1lbnQtZm9ybScsCgogICAgcHJvcHM6ewogICAgICAgIHJlcG9ydDpudWxsLAogICAgICAgIHVzZXI6bnVsbAogICAgfSwKCiAgICBkYXRhKCl7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgICBsb2FkaW5nOmZhbHNlLAogICAgICAgICAgICBlcnJvcjpudWxsLAogICAgICAgICAgICBjb21tZW50OnsKICAgICAgICAgICAgICAgIGJvZHk6bnVsbAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKCiAgICBtb3VudGVkKCl7CiAgICAgICAgY29uc29sZS5sb2coJ3RoaXMucmVwb3J0IDo+PiAnLCB0aGlzLnJlcG9ydCk7CiAgICB9LAoKICAgIG1ldGhvZHM6ewoKICAgICAgICBhc3luYyBzdWJtaXQoKXsKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gIXRoaXMubG9hZGluZwogICAgICAgICAgICBjb25zb2xlLmxvZygndGhpcy5jb21tZW50IDo+PiAnLCB0aGlzLmNvbW1lbnQpOwogICAgICAgICAgICB0aGlzLmNvbW1lbnQuY29tbWVudG9yID0gdGhpcy51c2VyLl9pZAogICAgICAgICAgICBsZXQgcmVzcG9uc2UgPSAgYXdhaXQgUmVwb3J0c0FQSS5hZGRDb21tZW50KHRoaXMucmVwb3J0Ll9pZCwgdGhpcy5jb21tZW50KQogICAgICAgICAgICBjb25zb2xlLmxvZygncmVzcG9uc2UgOj4+ICcsIHJlc3BvbnNlKTsKICAgICAgICAgICAgaWYoIXJlc3BvbnNlLnJlcG9ydCl7CiAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0gcmVzcG9uc2UuZXJyb3IgfHwgcmVzcG9uc2UubWVzc2FnZQogICAgICAgICAgICAgICAgdGhpcy5yZXNldCgpCiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gIXRoaXMubG9hZGluZwogICAgICAgICAgICAgICAgdGhpcy5yZXNldCgpCiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdzdWNjZXNzJykKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgCiAgICAgICAgcmVzZXQoKXsKICAgICAgICAgICAgdGhpcy5jb21tZW50LmJvZHk9IG51bGwKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["ReportCommentForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"ReportCommentForm.vue","sourceRoot":"src/components/forms","sourcesContent":["<template>\n  <div class=\"report-comment-form\">\n      <b-alert :show='error' variant=\"danger\" class=\"my-2\">{{ error }}</b-alert>\n      <b-form @submit.prevent='submit'>\n          <b-form-group label='Comment'>\n              <b-form-textarea placeholder='Add commment' v-model='comment.body' row=4>\n\n              </b-form-textarea>\n          </b-form-group>\n\n          <b-button  type=\"submit\" variant=\"primary\">\n                <template v-if=\"loading\">\n                    <b-spinner small type=\"grow\"></b-spinner>\n                    Loading...\n                </template>\n                <template v-else>Save Comment</template>\n            </b-button>\n      </b-form>\n  </div>\n</template>\n\n<script>\nimport ReportsAPI from '@/api/report.api.js'\n\nexport default {\n\n    name:'report-comment-form',\n\n    props:{\n        report:null,\n        user:null\n    },\n\n    data(){\n        return{\n            loading:false,\n            error:null,\n            comment:{\n                body:null\n            }\n        }\n    },\n\n    mounted(){\n        console.log('this.report :>> ', this.report);\n    },\n\n    methods:{\n\n        async submit(){\n            this.loading = !this.loading\n            console.log('this.comment :>> ', this.comment);\n            this.comment.commentor = this.user._id\n            let response =  await ReportsAPI.addComment(this.report._id, this.comment)\n            console.log('response :>> ', response);\n            if(!response.report){\n                this.error = response.error || response.message\n                this.reset()\n            }else{\n                this.loading = !this.loading\n                this.reset()\n                this.$emit('success')\n            }\n        },\n        \n        reset(){\n            this.comment.body= null\n        }\n    }\n}\n</script>\n\n\n<style lang=\"scss\" scoped>\n\n\n</style>"]}]}
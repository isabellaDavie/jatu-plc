{"remainingRequest":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\src\\views\\Requests\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\src\\views\\Requests\\index.vue","mtime":1587933282184},{"path":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgUmVxdWVzdExlYXZlVGFibGUgZnJvbSAnQC9jb21wb25lbnRzL3RhYmxlcy9SZXF1ZXN0TGVhdmVUYWJsZS52dWUnOwppbXBvcnQgTGVhdmVBUEkgZnJvbSAnQC9hcGkvbGVhdmUuYXBpLmpzJwoKZXhwb3J0IGRlZmF1bHQgewogICAgCiAgICBuYW1lOidyZXF1ZXN0JywKICAgIGNvbXBvbmVudHM6ewogICAgICBSZXF1ZXN0TGVhdmVUYWJsZSwKICAgIH0sCgogICAgZGF0YSgpewogICAgcmV0dXJuewogICAgICAgbG9hZGluZzpmYWxzZSwKICAgICAgICByZXF1ZXN0czpudWxsCiAgICB9Cn0sCgpjb21wdXRlZDp7CiAgbGlzdDpmdW5jdGlvbigpewogICAgbGV0IHVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY3RpdmVVc2VyJykpCiAgICBpZiAoIHVzZXIucG9zaXRpb24gPT0gJ0hPRCcpewogICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0cwogICAgfWVsc2V7CiAgICAgIGlmKHRoaXMucmVxdWVzdHMpewogICAgICAgIGxldCBsaXN0ID0gdGhpcy5yZXF1ZXN0cy5maWx0ZXIocmVxdWVzdCA9PiByZXF1ZXN0LnJlcXVlc3RCeS5faWQgPT0gdXNlci5faWQgKQogICAgICByZXR1cm4gbGlzdAogICAgICB9CiAgICAgIAogICAgfQogIH0KfSwKCgphc3luYyBjcmVhdGVkKCl7CiAgYXdhaXQgdGhpcy5mZXRjaERhdGEoKQp9LAoKbWV0aG9kczp7CiAgICAgIGFzeW5jIGZldGNoRGF0YSgpewogICAgICAgICB0aGlzLmxvYWRpbmcgPSAhdGhpcy5sb2FkaW5nCiAgICAgICAgIGxldCByZXN1bHRzID0gYXdhaXQgTGVhdmVBUEkuZ2V0KCkKICAgICAgICAgY29uc29sZS5sb2coJ3Jlc3VsdHMgOj4+ICcsIHJlc3VsdHMpOwogICAgICAgICB0aGlzLnJlcXVlc3RzID0gcmVzdWx0cy5sZWF2ZXMKICAgICAgICAgdGhpcy5sb2FkaW5nID0gIXRoaXMubG9hZGluZwogICAgICB9Cn0KCn0KCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"index.vue","sourceRoot":"src/views/Requests","sourcesContent":["<template>\n  <div class=\"request\">\n    <h3>Leave Requests</h3>\n    <hr class=\"w-100\">\n    <request-leave-table :requests='list' v-on:success='fetchData'></request-leave-table>\n  </div>\n</template>\n\n<script>\n\nimport RequestLeaveTable from '@/components/tables/RequestLeaveTable.vue';\nimport LeaveAPI from '@/api/leave.api.js'\n\nexport default {\n    \n    name:'request',\n    components:{\n      RequestLeaveTable,\n    },\n\n    data(){\n    return{\n       loading:false,\n        requests:null\n    }\n},\n\ncomputed:{\n  list:function(){\n    let user = JSON.parse(localStorage.getItem('activeUser'))\n    if ( user.position == 'HOD'){\n      return this.requests\n    }else{\n      if(this.requests){\n        let list = this.requests.filter(request => request.requestBy._id == user._id )\n      return list\n      }\n      \n    }\n  }\n},\n\n\nasync created(){\n  await this.fetchData()\n},\n\nmethods:{\n      async fetchData(){\n         this.loading = !this.loading\n         let results = await LeaveAPI.get()\n         console.log('results :>> ', results);\n         this.requests = results.leaves\n         this.loading = !this.loading\n      }\n}\n\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>"]}]}
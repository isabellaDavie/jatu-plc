{"remainingRequest":"C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Documents\\jatu3\\frontend\\src\\components\\forms\\ResetPasswordForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Documents\\jatu3\\frontend\\src\\components\\forms\\ResetPasswordForm.vue","mtime":1589744646415},{"path":"C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB1c2VyQVBJIGZyb20gJ0AvYXBpL3VzZXJzLmFwaS5qcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAncmVzZXQtcGFzc3dvcmQtZm9ybScsCiAgICAvLyBwcm9wOiBbJ3VzZXInXSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgICAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgICAgICAgcGFzc3dvcmQyOiAnJywKICAgICAgICAgICAgdXNlcjoge30sCiAgICAgICAgICAgIGVycm9yOiAnJwogICAgICAgIH0KICAgIH0sCgogICAgY3JlYXRlZCgpIHsKICAgICAgICB0aGlzLnVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY3RpdmVVc2VyJykpCgogICAgfSwKCiAgICBjb21wdXRlZDogewoKICAgIH0sCgogICAgbWV0aG9kczogewoKICAgICAgICBhc3luYyBvblN1Ym1pdCgpIHsKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gIXRoaXMubG9hZGluZwogICAgICAgICAgICBpZiAodGhpcy5wYXNzd29yZCAhPSB0aGlzLnBhc3N3b3JkMikgewogICAgICAgICAgICAgICAgdGhpcy5lcnJvciA9ICdQYXNzd29yZHMgZG8gbm90IG1hdGNoLicKICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9ICF0aGlzLmxvYWRpbmcKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc2V0KCkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxldCBkYXRhID0gewogICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0cyA9IGF3YWl0IHVzZXJBUEkucmVzZXRQYXNzd29yZCh0aGlzLnVzZXIuX2lkLCBkYXRhKQogICAgICAgICAgICAgICAgaWYgKCFyZXN1bHRzLnVzZXIpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0gcmVzdWx0cy5tZXNzYWdlCiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gIXRoaXMubG9hZGluZwogICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc2V0KCkKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9ICF0aGlzLmxvYWRpbmcKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICByZXNldCgpIHsKICAgICAgICAgICAgdGhpcy5wYXNzd29yZCA9ICcnCiAgICAgICAgICAgIHRoaXMucGFzc3dvcmQyID0gJycKICAgICAgICB9CgogICAgfQoKfQo="},{"version":3,"sources":["ResetPasswordForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA","file":"ResetPasswordForm.vue","sourceRoot":"src/components/forms","sourcesContent":["<template>\n    <div class=\"user-reset-password\">\n\n        <b-form @submit.prevent='onSubmit'>\n            <b-form-group label='New Password'>\n                <b-form-row>\n                    <b-col>\n                        <b-form-input type='password' v-model=\"password\" placeholder='Password' required>\n                        </b-form-input>\n                    </b-col>\n                    <b-col>\n                        <b-form-input type='password' v-model=\"password2\" placeholder='Confirm Password' required>\n                        </b-form-input>\n                    </b-col>\n\n                </b-form-row>\n            </b-form-group>\n\n            <b-button block type=\"submit\" variant=\"primary\">\n                <template v-if=\"loading\">\n                    <b-spinner small type=\"grow\"></b-spinner>\n                    Loading...\n                </template>\n                <template v-else>Save</template>\n            </b-button>\n        </b-form>\n    </div>\n</template>\n\n<script>\n    import userAPI from '@/api/users.api.js';\n\n    export default {\n        name: 'reset-password-form',\n        // prop: ['user'],\n        data() {\n            return {\n                loading: false,\n                password: '',\n                password2: '',\n                user: {},\n                error: ''\n            }\n        },\n\n        created() {\n            this.user = JSON.parse(localStorage.getItem('activeUser'))\n\n        },\n\n        computed: {\n\n        },\n\n        methods: {\n\n            async onSubmit() {\n                this.loading = !this.loading\n                if (this.password != this.password2) {\n                    this.error = 'Passwords do not match.'\n                    this.loading = !this.loading\n                    return this.reset()\n                } else {\n                    let data = {\n                        password: this.password\n                    }\n                    let results = await userAPI.resetPassword(this.user._id, data)\n                    if (!results.user) {\n                        this.error = results.message\n                        this.loading = !this.loading\n                        return this.reset()\n                    }else{\n                        this.loading = !this.loading\n                        this.$router.go(-1)\n                    }\n                }\n            },\n\n            reset() {\n                this.password = ''\n                this.password2 = ''\n            }\n\n        }\n\n    }\n</script>\n\n\n<style lang=\"scss\" scoped>\n\n</style>"]}]}
{"remainingRequest":"C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Documents\\jatu3\\frontend\\src\\components\\forms\\LoginForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Documents\\jatu3\\frontend\\src\\components\\forms\\LoginForm.vue","mtime":1589752530917},{"path":"C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzpcXFVzZXJzXFxVc2VyXFxEb2N1bWVudHNcXGphdHUzXFxmcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBBdXRoQVBJIGZyb20gJ0AvYXBpL2F1dGhlbnRpY2F0aW9uLmFwaS5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnbG9naW4tZm9ybScsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHsKICAgICAgICBlbWFpbDogbnVsbCwKICAgICAgICBwYXNzd29yZDogbnVsbAogICAgICB9LAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZXJyb3I6IG51bGwsCiAgICAgIHN1Y2Nlc3M6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF95aWVsZCRBdXRoQVBJJGF1dGhlbiwgdXNlciwgdG9rZW4sIG1lc3NhZ2UsIGVycm9yOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gIV90aGlzLmxvYWRpbmc7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBBdXRoQVBJLmF1dGhlbnRpY2F0ZShfdGhpcy5mb3JtKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX3lpZWxkJEF1dGhBUEkkYXV0aGVuID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHVzZXIgPSBfeWllbGQkQXV0aEFQSSRhdXRoZW4udXNlcjsKICAgICAgICAgICAgICAgIHRva2VuID0gX3lpZWxkJEF1dGhBUEkkYXV0aGVuLnRva2VuOwogICAgICAgICAgICAgICAgbWVzc2FnZSA9IF95aWVsZCRBdXRoQVBJJGF1dGhlbi5tZXNzYWdlOwogICAgICAgICAgICAgICAgZXJyb3IgPSBfeWllbGQkQXV0aEFQSSRhdXRoZW4uZXJyb3I7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlLCBlcnJvcik7CgogICAgICAgICAgICAgICAgaWYgKHVzZXIpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyAgYWxlcnQoJ0ZhaWxlZCB0byBsb2dpbi4gUGxlYXNlIHRyeSBhZ2Fpbi4nKQogICAgICAgICAgICAgICAgX3RoaXMuZXJyb3IgPSBtZXNzYWdlOwogICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9ICFfdGhpcy5sb2FkaW5nOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgX3RoaXMucmVzZXQoKSk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfdGhpcy5zdWNjZXNzID0gbWVzc2FnZTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhY3RpdmVVc2VyJywgSlNPTi5zdHJpbmdpZnkodXNlcikpOwogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgdG9rZW4pOwoKICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICdyZXF1ZXN0cycKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSAhX3RoaXMubG9hZGluZzsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHRoaXMuZm9ybSA9IHt9OwogICAgfQogIH0KfTs="},{"version":3,"sources":["LoginForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,OAAA,OAAA,MAAA,6BAAA;AAEA,eAAA;AAEA,EAAA,IAAA,EAAA,YAFA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,KAAA,EAAA,IADA;AAEA,QAAA,QAAA,EAAA;AAFA,OADA;AAKA,MAAA,OAAA,EAAA,KALA;AAMA,MAAA,KAAA,EAAA,IANA;AAOA,MAAA,OAAA,EAAA;AAPA,KAAA;AASA,GAdA;AAgBA,EAAA,OAAA,EAAA;AAEA,IAAA,MAFA,oBAEA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,OAAA,GAAA,CAAA,KAAA,CAAA,OAAA;AADA;AAAA,uBAEA,OAAA,CAAA,YAAA,CAAA,KAAA,CAAA,IAAA,CAFA;;AAAA;AAAA;AAEA,gBAAA,IAFA,yBAEA,IAFA;AAEA,gBAAA,KAFA,yBAEA,KAFA;AAEA,gBAAA,OAFA,yBAEA,OAFA;AAEA,gBAAA,KAFA,yBAEA,KAFA;AAGA,gBAAA,OAAA,CAAA,GAAA,CAAA,OAAA,EAAA,KAAA;;AAHA,oBAIA,IAJA;AAAA;AAAA;AAAA;;AAKA;AACA,gBAAA,KAAA,CAAA,KAAA,GAAA,OAAA;AACA,gBAAA,KAAA,CAAA,OAAA,GAAA,CAAA,KAAA,CAAA,OAAA;AAPA,iDAQA,KAAA,CAAA,KAAA,EARA;;AAAA;AAUA,gBAAA,KAAA,CAAA,OAAA,GAAA,OAAA;AACA,gBAAA,YAAA,CAAA,OAAA,CAAA,YAAA,EAAA,IAAA,CAAA,SAAA,CAAA,IAAA,CAAA;AACA,gBAAA,YAAA,CAAA,OAAA,CAAA,OAAA,EAAA,KAAA;;AACA,gBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,kBAAA,IAAA,EAAA;AAAA,iBAAA;;AACA,gBAAA,KAAA,CAAA,OAAA,GAAA,CAAA,KAAA,CAAA,OAAA;;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA,KAjBA;AAmBA,IAAA,KAnBA,mBAmBA;AACA,WAAA,IAAA,GAAA,EAAA;AACA;AArBA;AAhBA,CAAA","sourcesContent":["<template>\n    <div class=\"login-form-container\">\n        <b-alert show variant=\"danger\" class=\"my-2\" v-if=\"error\">{{ error }}</b-alert>\n        <b-alert show variant=\"success\" class=\"my-2\" v-if=\"success\">{{ success }}</b-alert>\n        <b-form @submit.prevent=\"submit\" @reset=\"reset\">\n            <b-form-group label='Email'>\n                <b-form-input type=\"email\" placeholder=\"Enter your email\" required v-model='form.email'>\n                </b-form-input>\n            </b-form-group>\n\n            <b-form-group label=\"Password\">\n                <b-form-input type=\"password\" placeholder=\"Enter your password\" required v-model='form.password'>\n                </b-form-input>\n            </b-form-group>\n\n            <b-button block type=\"submit\" variant=\"primary\">\n                <template v-if=\"loading\">\n                    <b-spinner small type=\"grow\"></b-spinner>\n                    Loading...\n                </template>\n                <template v-else>Login</template>\n            </b-button>\n            <b-button block type=\"reset\" variant=\"outline-secondary\">Reset</b-button>\n        </b-form>\n    </div>\n</template>\n\n<script>\n\nimport AuthAPI from '@/api/authentication.api.js' \n\n    export default {\n\n        name: 'login-form',\n\n        data(){\n            return{\n                form:{\n                    email:null,\n                    password:null\n                },\n                loading:false,\n                error:null,\n                success:null\n            }\n        },\n\n        methods:{\n\n            async submit(){\n                this.loading = !this.loading\n                const {user, token, message, error } = await AuthAPI.authenticate(this.form)\n                console.log(message, error)\n                if(!user) {\n                    //  alert('Failed to login. Please try again.')\n                    this.error = message\n                     this.loading = !this.loading\n                     return this.reset()\n                     }\n                this.success = message\n                localStorage.setItem('activeUser', JSON.stringify(user))\n                localStorage.setItem('token', token)\n                this.$router.push({ name:'requests' })\n                this.loading = !this.loading\n            },\n\n            reset(){\n                this.form = {}\n            }\n\n        }\n\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n\n\n</style>"],"sourceRoot":"src/components/forms"}]}
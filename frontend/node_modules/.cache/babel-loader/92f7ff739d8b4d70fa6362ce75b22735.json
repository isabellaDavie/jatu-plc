{"remainingRequest":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\src\\components\\tables\\RequestLeaveTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\src\\components\\tables\\RequestLeaveTable.vue","mtime":1587950008000},{"path":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFByb2Nlc3NSZXF1ZXN0TGVhdmVGb3JtIGZyb20gJy4uL2Zvcm1zL1Byb2Nlc3NSZXF1ZXN0TGVhdmVGb3JtJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdyZXF1ZXN0LWxlYXZlLXRhYmxlJywKICBjb21wb25lbnRzOiB7CiAgICBQcm9jZXNzUmVxdWVzdExlYXZlRm9ybTogUHJvY2Vzc1JlcXVlc3RMZWF2ZUZvcm0KICB9LAogIHByb3BzOiB7CiAgICByZXF1ZXN0czoge30KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmaWVsZHM6IFt7CiAgICAgICAga2V5OiAncmVxdWVzdEJ5JywKICAgICAgICBsYWJlbDogJ1JlcXVlc3RlZCBCeScsCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgc29ydERpcmVjdGlvbjogJ2Rlc2MnCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICdkZXRhaWwnLAogICAgICAgIGxhYmVsOiAnRGV0YWlscycKICAgICAgfSwgewogICAgICAgIGtleTogJ3BheWFibGUnLAogICAgICAgIGxhYmVsOiAnUGF5YWJsZScKICAgICAgfSwgewogICAgICAgIGtleTogJ2R1cmF0aW9uJywKICAgICAgICBsYWJlbDogJ0R1cmF0aW9uJwogICAgICB9LCB7CiAgICAgICAga2V5OiAnc3RhdHVzJywKICAgICAgICBsYWJlbDogJ1N0YXR1cycKICAgICAgfSwgewogICAgICAgIGtleTogJ2FjdGlvbnMnLAogICAgICAgIGxhYmVsOiAnQWN0aW9ucycKICAgICAgfV0sCiAgICAgIC8vIHRvdGFsUm93czogMSwKICAgICAgLy8gY3VycmVudFBhZ2U6IDEsCiAgICAgIC8vIHBlclBhZ2U6IDUsCiAgICAgIC8vIHBhZ2VPcHRpb25zOiBbNSwgMTAsIDE1XSwKICAgICAgLy8gc29ydEJ5OiAnJywKICAgICAgLy8gc29ydERlc2M6IGZhbHNlLAogICAgICAvLyBzb3J0RGlyZWN0aW9uOiAnYXNjJywKICAgICAgZmlsdGVyOiBudWxsLAogICAgICBmaWx0ZXJPbjogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgc29ydE9wdGlvbnM6IGZ1bmN0aW9uIHNvcnRPcHRpb25zKCkgewogICAgICAvLyBDcmVhdGUgYW4gb3B0aW9ucyBsaXN0IGZyb20gb3VyIGZpZWxkcwogICAgICByZXR1cm4gdGhpcy5maWVsZHMuZmlsdGVyKGZ1bmN0aW9uIChmKSB7CiAgICAgICAgcmV0dXJuIGYuc29ydGFibGU7CiAgICAgIH0pLm1hcChmdW5jdGlvbiAoZikgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB0ZXh0OiBmLmxhYmVsLAogICAgICAgICAgdmFsdWU6IGYua2V5CiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgY29uc29sZS5sb2coJ3RoaXMucmVxdWVzdHMgOicsIHRoaXMucmVxdWVzdHMpOwogIH0sCiAgbWV0aG9kczogewogICAgb25GaWx0ZXJlZDogZnVuY3Rpb24gb25GaWx0ZXJlZChmaWx0ZXJlZEl0ZW1zKSB7CiAgICAgIC8vIFRyaWdnZXIgcGFnaW5hdGlvbiB0byB1cGRhdGUgdGhlIG51bWJlciBvZiBidXR0b25zL3BhZ2VzIGR1ZSB0byBmaWx0ZXJpbmcKICAgICAgdGhpcy50b3RhbFJvd3MgPSBmaWx0ZXJlZEl0ZW1zLmxlbmd0aDsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7CiAgICB9LAogICAgZmV0Y2hEYXRhOiBmdW5jdGlvbiBmZXRjaERhdGEoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ3N1Y2Nlc3MnKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["RequestLeaveTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA,OAAA,uBAAA,MAAA,kCAAA;AAEA,eAAA;AAEA,EAAA,IAAA,EAAA,qBAFA;AAIA,EAAA,UAAA,EAAA;AACA,IAAA,uBAAA,EAAA;AADA,GAJA;AAQA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA;AADA,GARA;AAYA,EAAA,IAZA,kBAYA;AACA,WAAA;AAEA,MAAA,MAAA,EAAA,CAAA;AACA,QAAA,GAAA,EAAA,WADA;AAEA,QAAA,KAAA,EAAA,cAFA;AAGA,QAAA,QAAA,EAAA,IAHA;AAIA,QAAA,aAAA,EAAA;AAJA,OAAA,EAMA;AACA,QAAA,GAAA,EAAA,QADA;AAEA,QAAA,KAAA,EAAA;AAFA,OANA,EAUA;AACA,QAAA,GAAA,EAAA,SADA;AAEA,QAAA,KAAA,EAAA;AAFA,OAVA,EAcA;AACA,QAAA,GAAA,EAAA,UADA;AAEA,QAAA,KAAA,EAAA;AAFA,OAdA,EAkBA;AACA,QAAA,GAAA,EAAA,QADA;AAEA,QAAA,KAAA,EAAA;AAFA,OAlBA,EAsBA;AACA,QAAA,GAAA,EAAA,SADA;AAEA,QAAA,KAAA,EAAA;AAFA,OAtBA,CAFA;AA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAA,MAAA,EAAA,IApCA;AAqCA,MAAA,QAAA,EAAA;AArCA,KAAA;AAuCA,GApDA;AAqDA,EAAA,QAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA;AACA,aAAA,KAAA,MAAA,CACA,MADA,CACA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,QAAA;AAAA,OADA,EAEA,GAFA,CAEA,UAAA,CAAA,EAAA;AACA,eAAA;AACA,UAAA,IAAA,EAAA,CAAA,CAAA,KADA;AAEA,UAAA,KAAA,EAAA,CAAA,CAAA;AAFA,SAAA;AAIA,OAPA,CAAA;AAQA;AAXA,GArDA;AAkEA,EAAA,OAlEA,qBAkEA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,KAAA,QAAA;AACA,GApEA;AAqEA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,aADA,EACA;AACA;AACA,WAAA,SAAA,GAAA,aAAA,CAAA,MAAA;AACA,WAAA,WAAA,GAAA,CAAA;AACA,KALA;AAOA,IAAA,SAPA,uBAOA;AACA,WAAA,KAAA,CAAA,SAAA;AACA;AATA;AArEA,CAAA","sourcesContent":["<template>\n    <b-container fluid>\n        <!-- User Interface controls -->\n        <div class=\"requests-table-filter-wrapper\">\n\n            <div class=\"table-filter-item d-flex justify-content-between\">\n                <b-form-group label-size=\"sm\" label-for=\"filterInput\" class=\"mb-0\">\n                    <b-input-group size=\"sm\">\n                        <b-form-input v-model=\"filter\" type=\"search\" id=\"filterInput\" placeholder=\"Search\">\n                        </b-form-input>\n                        <b-input-group-append>\n                            <b-button :disabled=\"!filter\" @click=\"filter = ''\">Clear</b-button>\n                        </b-input-group-append>\n                    </b-input-group>\n                </b-form-group>\n\n\n            </div>\n        </div>\n        <hr class=\"w-100\">\n\n\n        <!-- Main table element -->\n        <b-table id=\"requests-table\" show-empty small stacked=\"md\" :items=\"requests\" :fields=\"fields\"\n            :filter=\"filter\" :filterIncludedFields=\"filterOn\"\n            @filtered=\"onFiltered\">\n\n            <template v-slot:cell(requestBy)=\"row\">\n                {{ row.value.name.first }} {{ row.value.name.middle }} {{ row.value.name.last  }}\n            </template>\n\n            <!-- <template v-slot:cell(approvedBy)=\"row\">\n                {{ row.value.name.first }} {{ row.value.name.last }} \n            </template> -->\n\n\n            <template v-slot:cell(actions)=\"row\">\n                <b-button size=\"sm\" @click=\"row.toggleDetails\">\n                    {{ row.detailsShowing ? 'Hide' : 'Show' }} Details\n                </b-button>\n            </template>\n\n            <template v-slot:row-details=\"row\">\n                <b-card>\n                    <h3 class=\"card-title\">Leave Request by {{ row.item.requestBy.name.first }}</h3>\n                    <div class=\"card-body\">\n                        <div class=\"row\">\n                            <div class=\"col-md-6\">\n                                <p class=\"card-text text-bold\">Duration: {{ row.item.duration }}</p>\n                                <p class=\"card-text text-bold\">Reason: {{ row.item.detail }}</p>\n                                <p class=\"card-text text-bold\">Duration: {{ row.item.duration }}</p>\n                            </div>\n                            <div class=\"col-md-6\" v-if=\"row.item.status == 'pending'\">\n                                <process-request-leave-form :request='row.item' v-on:success='fetchData'></process-request-leave-form>\n                            </div>\n                        </div>\n                    </div>\n                </b-card>\n            </template>\n        </b-table>\n\n        <!-- Info modal -->\n\n    </b-container>\n</template>\n\n<script>\n    import ProcessRequestLeaveForm from '../forms/ProcessRequestLeaveForm'\n\n    export default {\n\n        name: 'request-leave-table',\n\n        components: {\n            ProcessRequestLeaveForm\n        },\n\n        props: {\n            requests: {}\n        },\n\n        data() {\n            return {\n\n                fields: [{\n                        key: 'requestBy',\n                        label: 'Requested By',\n                        sortable: true,\n                        sortDirection: 'desc'\n                    },\n                    {\n                        key:'detail',\n                        label:'Details'\n                    },\n                    {\n                        key: 'payable',\n                        label: 'Payable'\n                    },\n                    {\n                        key: 'duration',\n                        label: 'Duration'\n                    },\n                    {\n                        key: 'status',\n                        label: 'Status'\n                    },\n                    {\n                        key: 'actions',\n                        label: 'Actions'\n                    }\n                ],\n                // totalRows: 1,\n                // currentPage: 1,\n                // perPage: 5,\n                // pageOptions: [5, 10, 15],\n                // sortBy: '',\n                // sortDesc: false,\n                // sortDirection: 'asc',\n                filter: null,\n                filterOn: [],\n            }\n        },\n        computed: {\n            sortOptions() {\n                // Create an options list from our fields\n                return this.fields\n                    .filter(f => f.sortable)\n                    .map(f => {\n                        return {\n                            text: f.label,\n                            value: f.key\n                        }\n                    })\n            }\n        },\n        mounted() {\n            console.log('this.requests :', this.requests);\n        },\n        methods: {\n            onFiltered(filteredItems) {\n                // Trigger pagination to update the number of buttons/pages due to filtering\n                this.totalRows = filteredItems.length\n                this.currentPage = 1\n            },\n\n            fetchData(){\n                this.$emit('success')\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>"],"sourceRoot":"src/components/tables"}]}
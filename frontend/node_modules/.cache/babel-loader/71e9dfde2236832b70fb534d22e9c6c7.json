{"remainingRequest":"C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Documents\\jatu3\\frontend\\src\\views\\Reports\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Documents\\jatu3\\frontend\\src\\views\\Reports\\index.vue","mtime":1589744646425},{"path":"C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzpcXFVzZXJzXFxVc2VyXFxEb2N1bWVudHNcXGphdHUzXFxmcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBSZXBvcnRzTGlzdCBmcm9tICdAL2NvbXBvbmVudHMvdGFibGVzL1JlcG9ydHNMaXN0LnZ1ZSc7CmltcG9ydCBSZXBvcnRzQVBJIGZyb20gJ0AvYXBpL3JlcG9ydC5hcGkuanMnOwppbXBvcnQgUmVwb3J0Rm9ybSBmcm9tICdAL2NvbXBvbmVudHMvZm9ybXMvUmVwb3J0Rm9ybS52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3JlcG9ydHMnLAogIGNvbXBvbmVudHM6IHsKICAgIFJlcG9ydEZvcm06IFJlcG9ydEZvcm0sCiAgICBSZXBvcnRzTGlzdDogUmVwb3J0c0xpc3QKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgcmVwb3J0czogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBsaXN0OiBmdW5jdGlvbiBsaXN0KCkgewogICAgICB2YXIgdXNlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FjdGl2ZVVzZXInKSk7CgogICAgICBpZiAodXNlci5wb3NpdGlvbiA9PSAnSE9EJykgewogICAgICAgIHJldHVybiB0aGlzLnJlcG9ydHM7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHRoaXMucmVwb3J0cykgewogICAgICAgICAgdmFyIGxpc3QgPSB0aGlzLnJlcG9ydHMuZmlsdGVyKGZ1bmN0aW9uIChyZXBvcnRzKSB7CiAgICAgICAgICAgIHJldHVybiByZXBvcnRzLnJlcG9ydGVyLl9pZCA9PSB1c2VyLl9pZDsKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuIGxpc3Q7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmZldGNoRGF0YSgpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgbWV0aG9kczogewogICAgZmV0Y2hEYXRhOiBmdW5jdGlvbiBmZXRjaERhdGEoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlc3VsdHM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMi5sb2FkaW5nID0gIV90aGlzMi5sb2FkaW5nOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIFJlcG9ydHNBUEkuZ2V0KCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdHMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXN1bHRzIDo+PiAnLCByZXN1bHRzKTsKICAgICAgICAgICAgICAgIF90aGlzMi5yZXBvcnRzID0gcmVzdWx0cy5yZXBvcnRzOwogICAgICAgICAgICAgICAgX3RoaXMyLmxvYWRpbmcgPSAhX3RoaXMyLmxvYWRpbmc7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVzdWx0cyA6JywgcmVzdWx0cyk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAeA,OAAA,WAAA,MAAA,qCAAA;AACA,OAAA,UAAA,MAAA,qBAAA;AACA,OAAA,UAAA,MAAA,mCAAA;AAEA,eAAA;AAEA,EAAA,IAAA,EAAA,SAFA;AAIA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA,UADA;AAEA,IAAA,WAAA,EAAA;AAFA,GAJA;AASA,EAAA,IATA,kBASA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAAA;AAMA,GAhBA;AAkBA,EAAA,QAAA,EAAA;AAEA,IAAA,IAAA,EAAA,gBAAA;AACA,UAAA,IAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,YAAA,CAAA,CAAA;;AACA,UAAA,IAAA,CAAA,QAAA,IAAA,KAAA,EAAA;AACA,eAAA,KAAA,OAAA;AACA,OAFA,MAEA;AACA,YAAA,KAAA,OAAA,EAAA;AACA,cAAA,IAAA,GAAA,KAAA,OAAA,CAAA,MAAA,CAAA,UAAA,OAAA;AAAA,mBAAA,OAAA,CAAA,QAAA,CAAA,GAAA,IAAA,IAAA,CAAA,GAAA;AAAA,WAAA,CAAA;AACA,iBAAA,IAAA;AACA;AAEA;AACA;AAbA,GAlBA;AAmCA,EAAA,OAnCA,qBAmCA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,KAAA,CAAA,SAAA,EADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,GAtCA;AAwCA,EAAA,OAAA,EAAA;AAEA,IAAA,SAFA,uBAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,OAAA,GAAA,CAAA,MAAA,CAAA,OAAA;AADA;AAAA,uBAEA,UAAA,CAAA,GAAA,EAFA;;AAAA;AAEA,gBAAA,OAFA;AAGA,gBAAA,OAAA,CAAA,GAAA,CAAA,cAAA,EAAA,OAAA;AACA,gBAAA,MAAA,CAAA,OAAA,GAAA,OAAA,CAAA,OAAA;AACA,gBAAA,MAAA,CAAA,OAAA,GAAA,CAAA,MAAA,CAAA,OAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,WAAA,EAAA,OAAA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AATA;AAxCA,CAAA","sourcesContent":["<template>\n    <div class=\"reports\">\n        <div class=\"d-flex justify-content-between align-content-center\">\n            <h3>Reports</h3>\n            <report-form v-on:success='fetchData'>\n\n                Create Report\n            </report-form>\n        </div>\n        <hr class=\"w-100\">\n        <reports-list :reports='list' v-on:success='fetchData'></reports-list>\n    </div>\n</template>\n\n<script>\n    import ReportsList from '@/components/tables/ReportsList.vue';\n    import ReportsAPI from '@/api/report.api.js'\n    import ReportForm from '@/components/forms/ReportForm.vue'\n\n    export default {\n\n        name: 'reports',\n\n        components: {\n            ReportForm,\n            ReportsList,\n        },\n\n        data() {\n            return {\n                loading: false,\n                reports: null\n            }\n\n\n        },\n\n        computed: {\n\n            list: function () {\n                let user = JSON.parse(localStorage.getItem('activeUser'))\n                if (user.position == 'HOD') {\n                    return this.reports\n                } else {\n                    if (this.reports) {\n                        let list = this.reports.filter(reports => reports.reporter._id == user._id)\n                        return list\n                    }\n\n                }\n            }\n        },\n\n\n        async created() {\n            await this.fetchData()\n\n        },\n\n        methods: {\n\n            async fetchData() {\n                this.loading = !this.loading\n                let results = await ReportsAPI.get()\n            console.log('results :>> ', results);\n                this.reports = results.reports\n                this.loading = !this.loading\n                console.log('results :', results);\n            }\n        }\n\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>"],"sourceRoot":"src/views/Reports"}]}
{"remainingRequest":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\src\\components\\forms\\ReportForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\src\\components\\forms\\ReportForm.vue","mtime":1587950008000},{"path":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\bella\\Documents\\Projects\\jatupostaBackUp\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzpcXFVzZXJzXFxiZWxsYVxcRG9jdW1lbnRzXFxQcm9qZWN0c1xcamF0dXBvc3RhQmFja1VwXFxmcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxVc2Vyc1xcYmVsbGFcXERvY3VtZW50c1xcUHJvamVjdHNcXGphdHVwb3N0YUJhY2tVcFxcZnJvbnRlbmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgUmVwb3J0c0FQSSBmcm9tICdAL2FwaS9yZXBvcnQuYXBpLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdyZXBvcnQtZm9ybScsCiAgcHJvcHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkYXRhOiB7CiAgICAgICAgdGl0bGU6IG51bGwsCiAgICAgICAgZGV0YWlsczogbnVsbCwKICAgICAgICBzdWJ0aXRsZTogbnVsbAogICAgICB9LAogICAgICBsb2FkaW5nOiBmYWxzZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBjb25zb2xlLmxvZygndGhpcy5yZXBvcnQgOicsIHRoaXMucmVwb3J0KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdDogZnVuY3Rpb24gc3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVwb3J0ZXIsIGRhdGEsIHJlc3VsdHM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9ICFfdGhpcy5sb2FkaW5nOwogICAgICAgICAgICAgICAgcmVwb3J0ZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY3RpdmVVc2VyJykpOwoKICAgICAgICAgICAgICAgIGlmIChyZXBvcnRlcikgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ2xvZ2luJwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndGhpcy5kYXRhIDonLCBfdGhpcy5kYXRhKTsKICAgICAgICAgICAgICAgIGRhdGEgPSBfb2JqZWN0U3ByZWFkKHt9LCBfdGhpcy5kYXRhLCB7CiAgICAgICAgICAgICAgICAgIHJlcG9ydGVyOiByZXBvcnRlci5faWQKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2RhdGEgOicsIGRhdGEpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gUmVwb3J0c0FQSS5jcmVhdGUoZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIHJlc3VsdHMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Jlc3VsdHMgOicsIHJlc3VsdHMpOwoKICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzLnJlcG9ydCkgewogICAgICAgICAgICAgICAgICBfdGhpcy4kZW1pdCgnc3VjY2VzcycpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMudG9nZ2xlTW9kYWwoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHRoaXMucmVwb3J0ID0gbnVsbDsKICAgIH0sCiAgICB0b2dnbGVNb2RhbDogZnVuY3Rpb24gdG9nZ2xlTW9kYWwoKSB7CiAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgdGhpcy4kcmVmc1snbXktbW9kYWwnXS50b2dnbGUoJyN0b2dnbGUtYnRuJyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["ReportForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,OAAA,UAAA,MAAA,qBAAA;AAEA,eAAA;AAEA,EAAA,IAAA,EAAA,aAFA;AAIA,EAAA,KAAA,EAAA,EAJA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,KAAA,EAAA,IADA;AAEA,QAAA,OAAA,EAAA,IAFA;AAGA,QAAA,QAAA,EAAA;AAHA,OADA;AAMA,MAAA,OAAA,EAAA;AANA,KAAA;AASA,GAjBA;AAmBA,EAAA,OAnBA,qBAmBA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,eAAA,EAAA,KAAA,MAAA;AACA,GArBA;AAuBA,EAAA,OAAA,EAAA;AAEA,IAAA,MAFA,oBAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,OAAA,GAAA,CAAA,KAAA,CAAA,OAAA;AACA,gBAAA,QAFA,GAEA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,YAAA,CAAA,CAFA;;AAAA,oBAGA,QAHA;AAAA;AAAA;AAAA;;AAAA,iDAIA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,kBAAA,IAAA,EAAA;AAAA,iBAAA,CAJA;;AAAA;AAMA,gBAAA,OAAA,CAAA,GAAA,CAAA,aAAA,EAAA,KAAA,CAAA,IAAA;AACA,gBAAA,IAPA,qBAOA,KAAA,CAAA,IAPA;AAOA,kBAAA,QAAA,EAAA,QAAA,CAAA;AAPA;AAQA,gBAAA,OAAA,CAAA,GAAA,CAAA,QAAA,EAAA,IAAA;AARA;AAAA,uBASA,UAAA,CAAA,MAAA,CAAA,IAAA,CATA;;AAAA;AASA,gBAAA,OATA;AAUA,gBAAA,OAAA,CAAA,GAAA,CAAA,WAAA,EAAA,OAAA;;AACA,oBAAA,OAAA,CAAA,MAAA,EAAA;AACA,kBAAA,KAAA,CAAA,KAAA,CAAA,SAAA;;AACA,kBAAA,KAAA,CAAA,WAAA;AACA;;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA,KAjBA;AAmBA,IAAA,KAnBA,mBAmBA;AACA,WAAA,MAAA,GAAA,IAAA;AAEA,KAtBA;AAwBA,IAAA,WAxBA,yBAwBA;AACA,WAAA,KAAA;AACA,WAAA,KAAA,CAAA,UAAA,EAAA,MAAA,CAAA,aAAA;AACA;AA3BA;AAvBA,CAAA","sourcesContent":["<template>\n  <div class=\"report-form-wrapper\">\n      <b-button id=\"toggle-btn\" @click=\"toggleModal\">\n          <slot></slot>\n      </b-button>\n\n    <b-modal ref=\"my-modal\" hide-footer title=\"Send Report\">\n\n            <b-form @submit.prevent='submit'>\n\n                <b-form-group label='Title'>\n                    <b-form-input type='text' required v-model='data.title' placeholder='Report Title'></b-form-input>\n                </b-form-group>\n\n                <b-form-group label='Subtitle'>\n                    <b-form-input type='text' required v-model='data.subtitle' placeholder='Report Title'></b-form-input>\n                </b-form-group>\n\n                <b-form-group label='Details'>\n                    <b-form-textarea v-model='data.details' rows=10 required placeholder='Report Details'></b-form-textarea>\n                </b-form-group>\n\n                <b-button block type=\"submit\" variant=\"primary\">\n                <template v-if=\"loading\">\n                    <b-spinner small type=\"grow\"></b-spinner>\n                    Loading...\n                </template>\n                <template v-else>Send Report</template>\n            </b-button>\n            <b-button block variant=\"outline-secondary\">Cancel</b-button>\n            </b-form>\n    </b-modal>\n\n\n  </div>\n</template>\n\n<script>\n\nimport ReportsAPI from '@/api/report.api.js'\n\nexport default {\n\n    name:'report-form',\n\n    props:{\n    },\n\n    data(){\n        return{\n            data:{\n                title:null,\n                details:null,\n                subtitle:null,\n            },\n            loading:false\n        }\n\n    },\n\n    created(){\n        console.log('this.report :', this.report);\n    },\n\n    methods:{\n\n            async submit(){\n                this.loading = !this.loading\n                let reporter = JSON.parse(localStorage.getItem('activeUser'))\n                if(!reporter){\n                   return this.$router.push({ name:'login' })\n                }\n                console.log('this.data :', this.data);\n                let data = {...this.data, reporter:reporter._id}\n                console.log('data :', data);\n                let results = await ReportsAPI.create(data)\n                console.log('results :', results);\n                if(results.report){\n                    this.$emit('success')\n                    this.toggleModal()\n                }\n        },\n\n        reset(){\n            this.report = null\n        \n        },\n\n        toggleModal() {\n        this.reset()\n        this.$refs['my-modal'].toggle('#toggle-btn')\n      }\n    },\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>"],"sourceRoot":"src/components/forms"}]}
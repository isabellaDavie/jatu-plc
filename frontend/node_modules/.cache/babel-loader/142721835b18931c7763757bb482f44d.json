{"remainingRequest":"C:\\Users\\User\\Documents\\JATU PLC\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Documents\\JATU PLC\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Documents\\JATU PLC\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Documents\\JATU PLC\\frontend\\src\\views\\Requests\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Documents\\JATU PLC\\frontend\\src\\views\\Requests\\index.vue","mtime":1588709464000},{"path":"C:\\Users\\User\\Documents\\JATU PLC\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Documents\\JATU PLC\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Documents\\JATU PLC\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Documents\\JATU PLC\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzpcXFVzZXJzXFxVc2VyXFxEb2N1bWVudHNcXEpBVFUgUExDXFxmcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBSZXF1ZXN0TGVhdmVUYWJsZSBmcm9tICdAL2NvbXBvbmVudHMvdGFibGVzL1JlcXVlc3RMZWF2ZVRhYmxlLnZ1ZSc7CmltcG9ydCBMZWF2ZUFQSSBmcm9tICdAL2FwaS9sZWF2ZS5hcGkuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3JlcXVlc3QnLAogIGNvbXBvbmVudHM6IHsKICAgIFJlcXVlc3RMZWF2ZVRhYmxlOiBSZXF1ZXN0TGVhdmVUYWJsZQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICByZXF1ZXN0czogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBsaXN0OiBmdW5jdGlvbiBsaXN0KCkgewogICAgICB2YXIgdXNlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FjdGl2ZVVzZXInKSk7CgogICAgICBpZiAodXNlci5wb3NpdGlvbiA9PSAnSE9EJykgewogICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RzOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLnJlcXVlc3RzKSB7CiAgICAgICAgICB2YXIgbGlzdCA9IHRoaXMucmVxdWVzdHMuZmlsdGVyKGZ1bmN0aW9uIChyZXF1ZXN0KSB7CiAgICAgICAgICAgIHJldHVybiByZXF1ZXN0LnJlcXVlc3RCeS5faWQgPT0gdXNlci5faWQ7CiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiBsaXN0OwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5mZXRjaERhdGEoKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoRGF0YTogZnVuY3Rpb24gZmV0Y2hEYXRhKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXN1bHRzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczIubG9hZGluZyA9ICFfdGhpczIubG9hZGluZzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBMZWF2ZUFQSS5nZXQoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzdWx0cyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Jlc3VsdHMgOj4+ICcsIHJlc3VsdHMpOwogICAgICAgICAgICAgICAgX3RoaXMyLnJlcXVlc3RzID0gcmVzdWx0cy5sZWF2ZXM7CiAgICAgICAgICAgICAgICBfdGhpczIubG9hZGluZyA9ICFfdGhpczIubG9hZGluZzsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;AAUA,OAAA,iBAAA,MAAA,2CAAA;AACA,OAAA,QAAA,MAAA,oBAAA;AAEA,eAAA;AAEA,EAAA,IAAA,EAAA,SAFA;AAGA,EAAA,UAAA,EAAA;AACA,IAAA,iBAAA,EAAA;AADA,GAHA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GAZA;AAcA,EAAA,QAAA,EAAA;AACA,IAAA,IAAA,EAAA,gBAAA;AACA,UAAA,IAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,YAAA,CAAA,CAAA;;AACA,UAAA,IAAA,CAAA,QAAA,IAAA,KAAA,EAAA;AACA,eAAA,KAAA,QAAA;AACA,OAFA,MAEA;AACA,YAAA,KAAA,QAAA,EAAA;AACA,cAAA,IAAA,GAAA,KAAA,QAAA,CAAA,MAAA,CAAA,UAAA,OAAA;AAAA,mBAAA,OAAA,CAAA,SAAA,CAAA,GAAA,IAAA,IAAA,CAAA,GAAA;AAAA,WAAA,CAAA;AACA,iBAAA,IAAA;AACA;AAEA;AACA;AAZA,GAdA;AA8BA,EAAA,OA9BA,qBA8BA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,KAAA,CAAA,SAAA,EADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,GAhCA;AAkCA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,OAAA,GAAA,CAAA,MAAA,CAAA,OAAA;AADA;AAAA,uBAEA,QAAA,CAAA,GAAA,EAFA;;AAAA;AAEA,gBAAA,OAFA;AAGA,gBAAA,OAAA,CAAA,GAAA,CAAA,cAAA,EAAA,OAAA;AACA,gBAAA,MAAA,CAAA,QAAA,GAAA,OAAA,CAAA,MAAA;AACA,gBAAA,MAAA,CAAA,OAAA,GAAA,CAAA,MAAA,CAAA,OAAA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAPA;AAlCA,CAAA","sourcesContent":["<template>\n  <div class=\"request\">\n    <h3>Leave Requests</h3>\n    <hr class=\"w-100\">\n    <request-leave-table :requests='list' v-on:success='fetchData'></request-leave-table>\n  </div>\n</template>\n\n<script>\n\nimport RequestLeaveTable from '@/components/tables/RequestLeaveTable.vue';\nimport LeaveAPI from '@/api/leave.api.js'\n\nexport default {\n    \n    name:'request',\n    components:{\n      RequestLeaveTable,\n    },\n\n    data(){\n    return{\n       loading:false,\n        requests:null\n    }\n},\n\ncomputed:{\n  list:function(){\n    let user = JSON.parse(localStorage.getItem('activeUser'))\n    if ( user.position == 'HOD'){\n      return this.requests\n    }else{\n      if(this.requests){\n        let list = this.requests.filter(request => request.requestBy._id == user._id )\n      return list\n      }\n      \n    }\n  }\n},\n\n\nasync created(){\n  await this.fetchData()\n},\n\nmethods:{\n      async fetchData(){\n         this.loading = !this.loading\n         let results = await LeaveAPI.get()\n         console.log('results :>> ', results);\n         this.requests = results.leaves\n         this.loading = !this.loading\n      }\n}\n\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>"],"sourceRoot":"src/views/Requests"}]}
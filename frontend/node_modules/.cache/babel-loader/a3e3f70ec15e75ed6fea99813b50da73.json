{"remainingRequest":"C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Documents\\jatu3\\frontend\\src\\components\\forms\\ResetPasswordForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Documents\\jatu3\\frontend\\src\\components\\forms\\ResetPasswordForm.vue","mtime":1589744646415},{"path":"C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Documents\\jatu3\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzpcXFVzZXJzXFxVc2VyXFxEb2N1bWVudHNcXGphdHUzXFxmcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB1c2VyQVBJIGZyb20gJ0AvYXBpL3VzZXJzLmFwaS5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAncmVzZXQtcGFzc3dvcmQtZm9ybScsCiAgLy8gcHJvcDogWyd1c2VyJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIHBhc3N3b3JkMjogJycsCiAgICAgIHVzZXI6IHt9LAogICAgICBlcnJvcjogJycKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy51c2VyID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWN0aXZlVXNlcicpKTsKICB9LAogIGNvbXB1dGVkOiB7fSwKICBtZXRob2RzOiB7CiAgICBvblN1Ym1pdDogZnVuY3Rpb24gb25TdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBkYXRhLCByZXN1bHRzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSAhX3RoaXMubG9hZGluZzsKCiAgICAgICAgICAgICAgICBpZiAoIShfdGhpcy5wYXNzd29yZCAhPSBfdGhpcy5wYXNzd29yZDIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy5lcnJvciA9ICdQYXNzd29yZHMgZG8gbm90IG1hdGNoLic7CiAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gIV90aGlzLmxvYWRpbmc7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfdGhpcy5yZXNldCgpKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IF90aGlzLnBhc3N3b3JkCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJBUEkucmVzZXRQYXNzd29yZChfdGhpcy51c2VyLl9pZCwgZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICByZXN1bHRzID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0cy51c2VyKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMuZXJyb3IgPSByZXN1bHRzLm1lc3NhZ2U7CiAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gIV90aGlzLmxvYWRpbmc7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfdGhpcy5yZXNldCgpKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSAhX3RoaXMubG9hZGluZzsKCiAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLmdvKC0xKTsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHRoaXMucGFzc3dvcmQgPSAnJzsKICAgICAgdGhpcy5wYXNzd29yZDIgPSAnJzsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ResetPasswordForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,OAAA,OAAA,MAAA,oBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,qBADA;AAEA;AACA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA,EAHA;AAIA,MAAA,IAAA,EAAA,EAJA;AAKA,MAAA,KAAA,EAAA;AALA,KAAA;AAOA,GAXA;AAaA,EAAA,OAbA,qBAaA;AACA,SAAA,IAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,YAAA,CAAA,CAAA;AAEA,GAhBA;AAkBA,EAAA,QAAA,EAAA,EAlBA;AAsBA,EAAA,OAAA,EAAA;AAEA,IAAA,QAFA,sBAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,OAAA,GAAA,CAAA,KAAA,CAAA,OAAA;;AADA,sBAEA,KAAA,CAAA,QAAA,IAAA,KAAA,CAAA,SAFA;AAAA;AAAA;AAAA;;AAGA,gBAAA,KAAA,CAAA,KAAA,GAAA,yBAAA;AACA,gBAAA,KAAA,CAAA,OAAA,GAAA,CAAA,KAAA,CAAA,OAAA;AAJA,iDAKA,KAAA,CAAA,KAAA,EALA;;AAAA;AAOA,gBAAA,IAPA,GAOA;AACA,kBAAA,QAAA,EAAA,KAAA,CAAA;AADA,iBAPA;AAAA;AAAA,uBAUA,OAAA,CAAA,aAAA,CAAA,KAAA,CAAA,IAAA,CAAA,GAAA,EAAA,IAAA,CAVA;;AAAA;AAUA,gBAAA,OAVA;;AAAA,oBAWA,OAAA,CAAA,IAXA;AAAA;AAAA;AAAA;;AAYA,gBAAA,KAAA,CAAA,KAAA,GAAA,OAAA,CAAA,OAAA;AACA,gBAAA,KAAA,CAAA,OAAA,GAAA,CAAA,KAAA,CAAA,OAAA;AAbA,iDAcA,KAAA,CAAA,KAAA,EAdA;;AAAA;AAgBA,gBAAA,KAAA,CAAA,OAAA,GAAA,CAAA,KAAA,CAAA,OAAA;;AACA,gBAAA,KAAA,CAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBA,KAtBA;AAwBA,IAAA,KAxBA,mBAwBA;AACA,WAAA,QAAA,GAAA,EAAA;AACA,WAAA,SAAA,GAAA,EAAA;AACA;AA3BA;AAtBA,CAAA","sourcesContent":["<template>\n    <div class=\"user-reset-password\">\n\n        <b-form @submit.prevent='onSubmit'>\n            <b-form-group label='New Password'>\n                <b-form-row>\n                    <b-col>\n                        <b-form-input type='password' v-model=\"password\" placeholder='Password' required>\n                        </b-form-input>\n                    </b-col>\n                    <b-col>\n                        <b-form-input type='password' v-model=\"password2\" placeholder='Confirm Password' required>\n                        </b-form-input>\n                    </b-col>\n\n                </b-form-row>\n            </b-form-group>\n\n            <b-button block type=\"submit\" variant=\"primary\">\n                <template v-if=\"loading\">\n                    <b-spinner small type=\"grow\"></b-spinner>\n                    Loading...\n                </template>\n                <template v-else>Save</template>\n            </b-button>\n        </b-form>\n    </div>\n</template>\n\n<script>\n    import userAPI from '@/api/users.api.js';\n\n    export default {\n        name: 'reset-password-form',\n        // prop: ['user'],\n        data() {\n            return {\n                loading: false,\n                password: '',\n                password2: '',\n                user: {},\n                error: ''\n            }\n        },\n\n        created() {\n            this.user = JSON.parse(localStorage.getItem('activeUser'))\n\n        },\n\n        computed: {\n\n        },\n\n        methods: {\n\n            async onSubmit() {\n                this.loading = !this.loading\n                if (this.password != this.password2) {\n                    this.error = 'Passwords do not match.'\n                    this.loading = !this.loading\n                    return this.reset()\n                } else {\n                    let data = {\n                        password: this.password\n                    }\n                    let results = await userAPI.resetPassword(this.user._id, data)\n                    if (!results.user) {\n                        this.error = results.message\n                        this.loading = !this.loading\n                        return this.reset()\n                    }else{\n                        this.loading = !this.loading\n                        this.$router.go(-1)\n                    }\n                }\n            },\n\n            reset() {\n                this.password = ''\n                this.password2 = ''\n            }\n\n        }\n\n    }\n</script>\n\n\n<style lang=\"scss\" scoped>\n\n</style>"],"sourceRoot":"src/components/forms"}]}